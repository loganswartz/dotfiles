#!/bin/bash


# === general =================================================================
clone () {
	# clone github repo in the 'user/repo' format instead of needing to write out the entire Github URL
	# aka 'git clone https://github.com/loganswartz/dotfiles' becomes 'clone loganswartz/dotfiles'
	git clone "https://github.com/$1"
}

mediadiff () {
	nvim -d <(mediainfo "$1") <(mediainfo "$2")
}

prettyjson () {
	cat "$1" | python3 -m json.tool | sponge "$1"
}

alias lh='ls -lah'

# alias 'apt list --upgradable' to 'apt updates'
alias apt='apt '
alias updates='list --upgradable'


# === typos ===================================================================
alias cs='cd '


# === server-specific =========================================================
alias syncing='flock -n /var/lock/seedbox-rsync.lock echo "rsync is not running." || echo "rsync is currently running."'
alias renew-certs='sudo certbot certonly --manual --preferred-challenges dns -d loganswartz.com -d *.loganswartz.com'


# === laptop-specific =========================================================
alias citra='flatpak run org.citra.citra-canary &'
alias while-slack-term='while [[ true ]]; do slack-term; done'

# Add an "alert" alias for long running commands.  Use like so:
#   sleep 10; alert
alias alert='notify-send --urgency=low -i "$([ $? = 0 ] && echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'

standalone () {
	# launch programs from commandline without mucking up your current pty
	# usage: "standalone <your full command>"
	"$@" > /dev/null 2>&1 &
}


# === WSL-specific ============================================================
alias open='cmd.exe /C start'
alias notes='nvim "/mnt/c/Users/Logan Swartzendruber/Desktop/Notes/"'


# === programming =============================================================
alias lint='watch python3 -m flake8 --count --ignore=W391,W503 --max-complexity=10 --max-line-length=127 --statistics'
